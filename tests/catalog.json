{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "catalogVersion": 1,
  "features": [
    {
      "id": "auth.login",
      "title": "Login (Magic Link)",
      "risk": "medium",
      "e2e": ["tests/example.spec.ts"],
      "notes": "Smoke da tela de login."
    },
    {
      "title": "Ferramenta Desespelhar",
      "title": "Editor abre e renderiza",
      "risk": "high",
      "e2e": ["tests/editor.smoke.spec.ts"],
      "notes": "Cobre bypass E2E, toolbar e canvas."
    },
    {
      "id": "editor.selectFillHit",
      "title": "Seleção: clique no preenchimento seleciona figura (tool V)",
      "risk": "medium",
      "e2e": ["tests/select.fill-hit.spec.ts"],
      "notes": ""
    },
    {
      "id": "tool.offsetSeamLabelDrag",
      "title": "Offset: seam label move ao arrastar",
      "risk": "medium",
      "e2e": ["tests/offset.seam-label.drag.spec.ts"],
      "notes": ""
    },
    {
      "id": "editor.grid",
      "title": "Grid + Contraste do Grid",
      "risk": "medium",
      "e2e": ["tests/editor.smoke.spec.ts", "tests/prefs.persistence.spec.ts"],
      "notes": "Preferência global via localStorage."
    },
    {
      "id": "editor.pageGuides",
      "title": "Limites da página (tile) + watermark",
      "risk": "high",
      "e2e": [
        "tests/editor.smoke.spec.ts",
        "tests/page-guides.visual.spec.ts",
        "tests/prefs.persistence.spec.ts"
      ],
      "notes": "show/hide global; settings por projeto."
    },
    {
      "id": "editor.measuresOverlay",
      "title": "Medidas (overlay): modos never/always/hover",
      "risk": "medium",
      "e2e": ["tests/measures.overlay.spec.ts"],
      "notes": "Render Konva (Text) com tamanho estável no zoom e exclusão de seam por padrão."
    },
    {
      "id": "editor.nodesOverlay",
      "title": "Nós (pontinhos): modos never/always/hover",
      "risk": "low",
      "e2e": ["tests/nodes.overlay.spec.ts"],
      "notes": "Overlay neutro de pontos (somente nós) com preferência global em localStorage."
    },
    {
      "id": "editor.magnet",
      "title": "Imã (snap): desenhar com magnetismo",
      "risk": "medium",
      "e2e": ["tests/magnet.snap-line.spec.ts"],
      "notes": "Snapping genérico (nós + contorno) aplicado via resolver único do ponteiro."
    },
    {
      "id": "tool.rectangle",
      "title": "Ferramenta Retângulo",
      "risk": "high",
      "e2e": ["tests/editor.smoke.spec.ts"],
      "notes": "Desenho básico no canvas + validação por snapshot de estado."
    },
    {
      "id": "tool.pen",
      "title": "Ferramenta Caneta (mão livre)",
      "risk": "medium",
      "e2e": ["tests/pen.tool.spec.ts"],
      "notes": "Criação de traço livre aberto e fechamento ao retornar ao início."
    },
    {
      "id": "tool.node",
      "title": "Ferramenta Nó (editar nós): arrasto sem split acidental",
      "risk": "medium",
      "e2e": ["tests/node-tool.drag.spec.ts"],
      "notes": "Garante que arrastar um nó existente não cria ponto extra (split)."
    },
    {
      "id": "history.undoRedo",
      "title": "Undo/Redo",
      "risk": "high",
      "e2e": ["tests/editor.smoke.spec.ts"],
      "unit": [],
      "notes": "Valida regressões no fluxo do editor."
    },
    {
      "id": "tool.mirror",
      "title": "Ferramenta Espelhar",
      "risk": "medium",
      "unit": ["components/editor/mirror.test.ts"],
      "notes": "Cobertura unitária de geometria."
    },
    {
      "id": "tool.unfold",
      "title": "Ferramenta Desespelhar",
      "risk": "medium",
      "unit": [],
      "notes": "Remove cópia espelhada e desfaz o vínculo (pair)."
    },
    {
      "id": "tool.dart",
      "title": "Ferramenta Pence (Dart)",
      "risk": "medium",
      "unit": ["components/editor/dart.test.ts"],
      "notes": "Cobertura unitária de geometria."
    },
    {
      "id": "export.pdfSvg.toggleSources",
      "title": "Exportação PDF/SVG: fontes por chavinha (moldes e convencionais)",
      "risk": "high",
      "e2e": ["tests/point-labels.export.spec.ts"],
      "notes": "Valida fluxo de export com chavinha de figuras convencionais e download em modal rolável."
    }
  ]
}
