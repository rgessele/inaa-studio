# ============================================================
# Inaá Studio - Environment Variables (.env.local)
# ============================================================
# Use este arquivo como base:
#   cp .env.local.example .env.local
#
# Convenções:
# - Variáveis NEXT_PUBLIC_* ficam disponíveis no navegador.
# - Variáveis sem NEXT_PUBLIC_* ficam apenas no servidor.
# - Nunca compartilhe chaves reais em commits.

# ------------------------------------------------------------
# 1) Supabase (OBRIGATÓRIO)
# ------------------------------------------------------------
# URL do projeto Supabase.
# Formato esperado: https://<project-ref>.supabase.co
NEXT_PUBLIC_SUPABASE_URL=your-project-url

# Chave pública (anon) do Supabase.
# É segura para uso no cliente, mas ainda assim trate como credencial de app.
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Chave administrativa do Supabase (APENAS servidor).
# Use SOMENTE 1 das opções abaixo (ordem de prioridade no código):
# 1) SUPABASE_SECRET_KEY (recomendado)
# 2) SUPABASE_SECRET_API_KEY
# 3) SUPABASE_SERVICE_ROLE_KEY (fallback legado)
SUPABASE_SECRET_KEY=your-secret-api-key
# SUPABASE_SECRET_API_KEY=your-secret-api-key
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ------------------------------------------------------------
# 2) Debug local (OPCIONAL)
# ------------------------------------------------------------
# Habilita rota de debug em desenvolvimento para gravar eventos em .debug/.
# Valores aceitos: "true" | "false"
# Produção ignora mesmo com "true".
DEBUG=false

# ------------------------------------------------------------
# 3) Flags de E2E (OPCIONAL / TESTES)
# ------------------------------------------------------------
# Flag CLIENTE para comportamentos de teste no editor.
# Valores aceitos: "1" (ativo) | "0" (inativo)
# Recomendado para uso normal do app: 0
NEXT_PUBLIC_E2E_TESTS=0

# Flag SERVIDOR para bypass controlado de autenticação em E2E.
# Valores aceitos: "1" | "0"
# E2E_TESTS=1

# Token obrigatório no header x-e2e-token quando E2E_TESTS=1.
# E2E_TOKEN=inaa-e2e-token

# Porta usada pelo Playwright webServer (default no projeto: 3100).
# E2E_PORT=3100

# Diretório de build do Next.js (normalmente não precisa setar manualmente).
# Útil para evitar conflito com outro next dev em paralelo.
# NEXT_DIST_DIR=.next-e2e

# ------------------------------------------------------------
# 4) Metadados de build (normalmente automáticos na Vercel)
# ------------------------------------------------------------
# Estes valores costumam ser injetados pela plataforma de deploy.
# Em ambiente local, podem ficar vazios.
# VERCEL_ENV=development
# VERCEL_GIT_COMMIT_SHA=<sha>
# VERCEL_GIT_COMMIT_REF=<branch>

# ------------------------------------------------------------
# 5) Hotmart webhooks (OPCIONAL / INTEGRAÇÃO)
# ------------------------------------------------------------
# Liga processamento dos webhooks da Hotmart.
# Valores aceitos: "true" | "false"
HOTMART_WEBHOOK_ENABLED=false

# Token de autenticação enviado pela Hotmart no header X-HOTMART-HOTTOK.
# Obrigatório quando HOTMART_WEBHOOK_ENABLED=true.
HOTMART_HOTTOK=your-hotmart-hottok

# Token anterior (opcional) para rotação sem downtime.
# HOTMART_HOTTOK_PREVIOUS=your-previous-hotmart-hottok

# Carência (em dias) para evento PURCHASE_DELAYED.
# Default no código: 3
HOTMART_DELAYED_GRACE_DAYS=3

# Lista opcional de produtos permitidos por ucode (separados por vírgula).
# Quando definido, eventos de produtos fora da lista são ignorados.
# HOTMART_ALLOWED_PRODUCT_UCODES=ABC123,DEF456
